import{c as I,j as e,o as B,u as P,r as j,b as H}from"./index-ByY07t5U.js";import{D as f,P as M}from"./DashboardLayout-CorAQK4x.js";import{B as N}from"./button-DBciqQcI.js";import{C as c,a as i,b as n,c as m}from"./card-DrHBsbjm.js";import{S as q}from"./separator-hKRhLBlN.js";import{O as S}from"./OrderStatusBadge-Dg7uW5Ai.js";import{T as A,a as F,b as u,c as h,d as L,e as d}from"./table-DrbJVUPK.js";import{S as a}from"./skeleton-D-G3Wgw9.js";import{C as p}from"./chevron-left-BFqG9IJl.js";import{C as k}from"./calendar-DaBMcz2l.js";import{C as T}from"./clock-DBwSQnl3.js";import{D as _}from"./dollar-sign-DU2AVDND.js";import{U as E}from"./user-DOTUANSB.js";import"./badge-B45milNp.js";import"./user-check-B-SYn2ow.js";import"./circle-check-big-BqL8GB_a.js";import"./truck-D4vkvwy8.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=I("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),$=()=>e.jsx(f,{children:e.jsxs("div",{className:"space-y-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(N,{variant:"ghost",className:"mr-4",disabled:!0,children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Orders"]}),e.jsxs("div",{children:[e.jsx(a,{className:"h-6 w-40 mb-2"}),e.jsx(a,{className:"h-4 w-56"})]})]}),e.jsx(a,{className:"h-6 w-24 rounded-full"})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(a,{className:"h-5 w-5 rounded-full"}),e.jsx(a,{className:"h-5 w-32"})]})}),e.jsx(m,{children:e.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:Array.from({length:3}).map((x,l)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx(a,{className:"h-4 w-32"}),e.jsx(a,{className:"h-4 w-24"}),e.jsx(a,{className:"h-4 w-20"})]},l))})})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(a,{className:"h-5 w-5 rounded-full"}),e.jsx(a,{className:"h-5 w-32"})]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((x,l)=>e.jsxs("div",{className:"flex justify-between items-center space-x-4",children:[e.jsx(a,{className:"h-4 w-32"}),e.jsx(a,{className:"h-4 w-10"}),e.jsx(a,{className:"h-4 w-14"}),e.jsx(a,{className:"h-4 w-16"})]},l))})})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(a,{className:"h-5 w-5 rounded-full"}),e.jsx(a,{className:"h-5 w-40"})]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(a,{className:"h-4 w-40"}),e.jsx(a,{className:"h-4 w-60"})]})})]})]})}),de=()=>{var y,w,v,b;const{id:x}=B(),l=P(),[s,O]=j.useState(null),[C,g]=j.useState(!0);j.useEffect(()=>{(async()=>{try{g(!0);const r=await H.get("/getOrderByIdAdmin",{params:{orderId:x}});O(r.data.data)}catch(r){console.error("Failed to fetch order",r)}finally{g(!1)}})()},[x]);function D(t){return new Date(t._seconds*1e3+t._nanoseconds/1e3).toLocaleString()}if(C)return e.jsx($,{});if(!s)return e.jsx(f,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(N,{variant:"ghost",onClick:()=>l("/orders"),className:"mr-4",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Orders"]}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Order Not Found"})]}),e.jsx("p",{children:"The requested order could not be found."})]})});const o=s.items||[];return o.reduce((t,r)=>t+r.qty*r.price,0),e.jsx(f,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(N,{variant:"ghost",onClick:()=>l("/orders"),className:"mr-4",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Orders"]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold tracking-tight",children:["Order ",s.orderId]}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage order details"})]})]}),e.jsx(S,{status:s.status})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Order Summary"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:"Order Status"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Current Status:"}),e.jsx("dd",{children:e.jsx(S,{status:s.status})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Order ID:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.orderId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Total Items:"}),e.jsx("dd",{className:"text-sm font-medium",children:o.length})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:"Timing Information"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Order Date:"}),e.jsx("dd",{className:"text-sm font-medium",children:D(s.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Pickup:"}),e.jsxs("dd",{className:"text-sm font-medium flex items-center",children:[e.jsx(k,{className:"h-3.5 w-3.5 mr-1 text-muted-foreground"}),(y=s==null?void 0:s.pickupSlotDetails)==null?void 0:y.date,e.jsx(T,{className:"h-3.5 w-3.5 mx-1 text-muted-foreground"}),(w=s==null?void 0:s.pickupSlotDetails)==null?void 0:w.timeSlot]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Delivery:"}),e.jsxs("dd",{className:"text-sm font-medium flex items-center",children:[e.jsx(k,{className:"h-3.5 w-3.5 mr-1 text-muted-foreground"}),(v=s==null?void 0:s.deliverySlotDetails)==null?void 0:v.date,e.jsx(T,{className:"h-3.5 w-3.5 mx-1 text-muted-foreground"}),(b=s==null?void 0:s.deliverySlotDetails)==null?void 0:b.timeSlot]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-3",children:"Payment Details"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"text-sm text-muted-foreground",children:"Payment Method:"}),e.jsx("dd",{className:"text-sm font-medium",children:s.paymentMethod})]}),e.jsx(q,{className:"my-1"}),e.jsxs("div",{className:"flex justify-between items-center pt-1",children:[e.jsx("dt",{className:"font-medium",children:"Total Amount:"}),e.jsxs("dd",{className:"text-lg font-bold flex items-center",children:[e.jsx(_,{className:"h-4 w-4"}),s.finalTotal]})]})]})]})]})})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Order Items"]})}),e.jsx(m,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(A,{children:[e.jsx(F,{children:e.jsxs(u,{children:[e.jsx(h,{children:"Item"}),e.jsx(h,{className:"text-right",children:"Quantity"}),e.jsx(h,{className:"text-right",children:"Price"}),e.jsx(h,{className:"text-right",children:"Total"})]})}),e.jsxs(L,{children:[o.map(t=>e.jsxs(u,{children:[e.jsx(d,{className:"font-medium",children:t.name}),e.jsx(d,{className:"text-right",children:t.qty}),e.jsxs(d,{className:"text-right",children:["$",t.price.toFixed(2)]}),e.jsxs(d,{className:"text-right",children:["$",t.qty*t.price]})]},t.productId)),e.jsxs(u,{children:[e.jsx(d,{colSpan:3,className:"text-right font-semibold text-lg",children:"Total"}),e.jsxs(d,{className:"text-right font-semibold text-lg",children:["$",s.finalTotal.toFixed(2)]})]})]})]})})})]}),e.jsxs(c,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Customer Information"]})}),e.jsx(m,{children:e.jsxs("dl",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-medium text-muted-foreground",children:"User ID"}),e.jsx("dd",{children:s.userId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("dt",{className:"font-medium text-muted-foreground",children:"Address"}),e.jsx("dd",{children:s.addressDetails.addressLabel})]})]})})]})]})})};export{de as default};
