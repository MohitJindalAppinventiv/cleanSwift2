import{c as L,u as v,h as C,i as I,r as f,j as e,L as S,a6 as E,a7 as F,J as o}from"./index-ByY07t5U.js";import{B as k}from"./button-DBciqQcI.js";import{I as h}from"./input-DcxO3ESS.js";import{C as B,a as A,b as D,e as J,c as M}from"./card-DrHBsbjm.js";import{F as R,a as g,b as j,c as w,d as y,e as b}from"./form-D1pnXXWo.js";import{u as T,z as c,t as U}from"./index-pvnq_pFp.js";import{E as V}from"./eye-VMx-kwYO.js";import{E as z}from"./eye-off-CkD6P0Zk.js";import"./label-CtRxIZG0.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=L("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),O=c.object({email:c.string().email("Please enter a valid email address"),password:c.string().min(6,"Password must be at least 6 characters")});function ee(){const t=v(),d=C(),{isLoading:m,error:W}=I(s=>s.auth),[i,N]=f.useState(!1),[p,l]=f.useState(!1),n=T({resolver:U(O),defaultValues:{email:"",password:""}}),P=async s=>{var u;try{l(!0);const a=await d(E({email:s.email,password:s.password})).unwrap(),r=await d(F()).unwrap();if(l(!1),(r==null?void 0:r.isComplete)===!1){const x=r.configurations;((u=x.banner)==null?void 0:u.isConfigured)===!1?(t("/AppBanner"),o("Profile Incomplete",{description:"Please complete your Banner configuration to proceed."})):x.area.isConfigured==!1?(t("/area-config"),o("Profile Incomplete",{description:"Please complete your Banner configuration to proceed."})):(t("/Serv"),o("Profile Incomplete",{description:"Please complete your Banner configuration to proceed."}));return}o("Login Successful",{description:"Welcome back! You have been logged in successfully."}),t("/")}catch(a){l(!1);const r=a==="INVALID_CREDENTIALS"||a!=null&&a.includes("password")?"Username or Password is incorrect":a||"Something went wrong. Please try again.";o("Error",{description:r})}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsxs(B,{className:"w-full max-w-md",children:[e.jsxs(A,{className:"space-y-1",children:[e.jsx(D,{className:"text-2xl font-bold text-center",children:"Login"}),e.jsx(J,{className:"text-center",children:"Enter your credentials to access your account"})]}),e.jsx(M,{children:e.jsx(R,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(P),className:"space-y-4",children:[e.jsx(g,{control:n.control,name:"email",render:({field:s})=>e.jsxs(j,{children:[e.jsx(w,{children:"Email"}),e.jsx(y,{children:e.jsx(h,{placeholder:"email@example.com",...s,disabled:m})}),e.jsx(b,{})]})}),e.jsx(g,{control:n.control,name:"password",render:({field:s})=>e.jsxs(j,{children:[e.jsx(w,{children:"Password"}),e.jsx(y,{children:e.jsxs("div",{className:"relative",children:[e.jsx(h,{type:i?"text":"password",placeholder:"••••••••",...s,disabled:m,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>N(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:i?e.jsx(V,{className:"w-5 h-5"}):e.jsx(z,{className:"w-5 h-5"})})]})}),e.jsx(b,{})]})}),e.jsx("div",{className:"text-right",children:e.jsx(S,{to:"/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot Password?"})}),e.jsx(k,{type:"submit",className:"w-full",disabled:p,children:p?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Logging in..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Login"]})})]})})})]})})}export{ee as default};
