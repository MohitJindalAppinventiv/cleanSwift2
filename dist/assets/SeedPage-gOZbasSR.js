import{q as h,R as j,j as e,b as u}from"./index-ByY07t5U.js";import{B as b}from"./button-DBciqQcI.js";import{I as d}from"./input-DcxO3ESS.js";import{C as N,a as f,b as g,e as y,c as C}from"./card-DrHBsbjm.js";import{F as w,a as l,b as t,c as o,d as i,e as c}from"./form-D1pnXXWo.js";import{u as S,z as n,t as F}from"./index-pvnq_pFp.js";import{S as v,a as A,b as I,c as P,d as R}from"./select-DSUhFaX8.js";import"./label-CtRxIZG0.js";import"./index-DjrpyVfh.js";import"./Combination-DHf6tu9R.js";import"./index-Dxwkp90n.js";import"./index-DDlNMbpf.js";const D=n.object({email:n.string().email("Please enter a valid email address"),password:n.string().min(6,"Password must be at least 6 characters"),role:n.string().min(1,"Role is required"),displayName:n.string().min(2,"Display name must be at least 2 characters"),phoneNumber:n.string().min(10,"Phone number must be at least 10 digits"),secret:n.string().min(8,"Secret key must be at least 8 characters")});function G(){h();const[a,x]=j.useState(!1),r=S({resolver:F(D),defaultValues:{email:"",password:"",role:"admin",displayName:"",phoneNumber:"",secret:""}}),p=async s=>{try{x(!0),console.log("Data in form: ",s);const m=await u.post("/admins",{email:s.email,password:s.password,role:s.role,displayName:s.displayName,phoneNumber:s.phoneNumber,secret:s.secret});console.log("response",m.data),r.reset()}catch(m){console.error("Error:",m)}finally{x(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsxs(N,{className:"w-full max-w-md",children:[e.jsxs(f,{className:"space-y-1",children:[e.jsx(g,{className:"text-2xl font-bold text-center",children:"Create Admin Account"}),e.jsx(y,{className:"text-center",children:"Enter admin details to create an account"})]}),e.jsx(C,{children:e.jsx(w,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(p),className:"space-y-4",children:[e.jsx(l,{control:r.control,name:"email",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Email"}),e.jsx(i,{children:e.jsx(d,{placeholder:"admin@example.com",...s,disabled:a})}),e.jsx(c,{})]})}),e.jsx(l,{control:r.control,name:"password",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Password"}),e.jsx(i,{children:e.jsx(d,{type:"password",placeholder:"••••••••",...s,disabled:a})}),e.jsx(c,{})]})}),e.jsx(l,{control:r.control,name:"role",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Role"}),e.jsxs(v,{onValueChange:s.onChange,value:s.value,disabled:!0,children:[e.jsx(i,{children:e.jsx(A,{children:e.jsx(I,{placeholder:s.value?void 0:"Select role"})})}),e.jsx(P,{children:e.jsx(R,{value:"admin",children:"Admin"})})]}),e.jsx(c,{})]})}),e.jsx(l,{control:r.control,name:"displayName",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Display Name"}),e.jsx(i,{children:e.jsx(d,{placeholder:"Admin Name",...s,disabled:a})}),e.jsx(c,{})]})}),e.jsx(l,{control:r.control,name:"phoneNumber",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Phone Number"}),e.jsx(i,{children:e.jsx(d,{type:"tel",placeholder:"123-456-7890",...s,disabled:a})}),e.jsx(c,{})]})}),e.jsx(l,{control:r.control,name:"secret",render:({field:s})=>e.jsxs(t,{children:[e.jsx(o,{children:"Secret Key"}),e.jsx(i,{children:e.jsx(d,{type:"password",placeholder:"Your secret key",...s,disabled:a})}),e.jsx(c,{})]})}),e.jsx(b,{type:"submit",className:"w-full",disabled:a,children:a?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Creating Admin..."]}):"Create Admin Account"})]})})})]})})}export{G as default};
